
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Using a Line Chart to Show Jobs by Year for Each Age Group &#8212; Introduction to Python and SQL for Data Analysis</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Introduction to SQL and Relational Databases" href="../04-intro-sql/intro.html" />
    <link rel="prev" title="Visualizations" href="basic-visualizations.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Introduction to Python and SQL for Data Analysis</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Welcome to your Jupyter Book
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../intro/intro.html">
   Introduction to SQL and Python for Data Analysis
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/data.html">
     Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/jupyter.html">
     Introduction to Jupyter Notebooks
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../01-intro-python/intro.html">
   Introduction to Python and Pandas
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-intro-python/data.html">
     Loading Libraries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-intro-python/data-exploration.html">
     Exploring the Data Frame
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-intro-python/subsetting.html">
     Creating Subsets of the Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-intro-python/missing.html">
     Checking for Missing Values
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-intro-python/documentation.html">
     <span style="color:green">
      Error Messages and Documentation (VIDEO)
     </span>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02-functions-loops/intro.html">
   Functions, Loops, and Visualizations
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-functions-loops/functions.html">
     <span style="color:green">
      Creating Functions (VIDEO)
     </span>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-functions-loops/loops.html">
     <span style="color:green">
      Using Loops (VIDEO)
     </span>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="intro.html">
   Visualizations
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="basic-visualizations.html">
     Visualizations
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Using a Line Chart to Show Jobs by Year for Each Age Group
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../04-intro-sql/intro.html">
   Introduction to SQL and Relational Databases
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-intro-sql/queries.html">
     <span style="color:green">
      Writing a Basic Query (VIDEO)
     </span>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-intro-sql/counting.html">
     <span style="color:green">
      Checking Number of Rows and Duplicates (VIDEO)
     </span>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-intro-sql/conditionals.html">
     Using Conditional Statements
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-intro-sql/aggregating.html">
     Using Aggregation Functions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../05-joins/intro.html">
   SQL Joins
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../05-joins/joins.html">
     Joins
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05-joins/other-joins.html">
     Different Types of Joins
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05-joins/joins-aggregation.html">
     Using Joins With Aggregation Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05-joins/creating-tables.html">
     Creating New Tables for Future Use
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../06-python-sql/intro.html">
   Using SQL and Python Together
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-python-sql/connecting.html">
     Creating a Connection
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-python-sql/tables-df.html">
     Reading SQL tables using Pandas
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/content/03-visualizations/multiple-years.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/content/03-visualizations/multiple-years.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Using a Line Chart to Show Jobs by Year for Each Age Group
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-seaborn">
   Using Seaborn
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#saving-figures">
     Saving Figures
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#span-style-color-red-checkpoint-3-visualize-your-data-span">
   <span style="color:red">
    Checkpoint 3: Visualize Your Data
   </span>
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Using a Line Chart to Show Jobs by Year for Each Age Group</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Using a Line Chart to Show Jobs by Year for Each Age Group
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-seaborn">
   Using Seaborn
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#saving-figures">
     Saving Figures
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#span-style-color-red-checkpoint-3-visualize-your-data-span">
   <span style="color:red">
    Checkpoint 3: Visualize Your Data
   </span>
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Start (as usual) by loading libraries</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mplib</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># For inline graphics</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># Start (as usual) by loading libraries</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mplib</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;numpy&#39;
</pre></div>
</div>
</div>
</div>
<section id="using-a-line-chart-to-show-jobs-by-year-for-each-age-group">
<h1>Using a Line Chart to Show Jobs by Year for Each Age Group<a class="headerlink" href="#using-a-line-chart-to-show-jobs-by-year-for-each-age-group" title="Permalink to this headline">#</a></h1>
<p>In this last section, we’ll look at a line chart while incorporating all the other methods we’ve gone over in this notebook. Here, we want to look at the change in number of jobs by year, separating them into each age group so that we can look at the trends for each age group as well as compare the trends across age groups.</p>
<p>In order to do this, we’ll need to get that data from multiple Data Frames, since we want to combine data from multiple years. We’ll put them all in lists, then bring it all together into one Data Frame, setting the index of that Data Frame to the correct year, then plot the line chart. Since we want to separate it by age group</p>
<p>Recall that we’ve already brought in data from 2009 to 2015 previously. We’ll use that data for now, replicating that code here. You can try changing the values to add more years, or use a different state. We’ll show all of the code, then go over the individual parts.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_wac</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;ca&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Gets the WAC data for a given state and year.</span>
<span class="sd">    ---</span>
<span class="sd">    state: string, two-letter code of state for which we want the data</span>
<span class="sd">    year: int, the year we want to bring in data for</span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">base_url</span> <span class="o">=</span> <span class="s1">&#39;https://lehd.ces.census.gov/data/lodes/LODES7/&#39;</span>
    <span class="n">file_specs</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{st}</span><span class="s1">/wac/</span><span class="si">{st}</span><span class="s1">_wac_S000_JT00_</span><span class="si">{yr}</span><span class="s1">.csv.gz&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">st</span> <span class="o">=</span> <span class="n">state</span><span class="p">,</span> <span class="n">yr</span> <span class="o">=</span> <span class="n">year</span><span class="p">)</span>
    <span class="n">file_name</span> <span class="o">=</span> <span class="n">base_url</span> <span class="o">+</span> <span class="n">file_specs</span>
    
    <span class="c1"># print(&quot;The URL for the file is at: &quot; + file_name)</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span><span class="n">compression</span><span class="o">=</span><span class="s1">&#39;gzip&#39;</span><span class="p">)</span>
    <span class="k">return</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize an empty dictionary.</span>
<span class="n">wac_all_years</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># This loop might take a little bit of time.</span>
<span class="c1"># If you want to see progress while it runs, uncomment the second line in the loop.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span><span class="mi">2016</span><span class="p">):</span>
    <span class="n">wac_all_years</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_wac</span><span class="p">(</span><span class="n">year</span> <span class="o">=</span> <span class="n">i</span><span class="p">)</span>
    <span class="c1"># print(&quot;WAC for &quot; + str(i) + &quot; obtained.&quot;)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize the lists we&#39;ll use to create Data Frame</span>
<span class="n">ca_c000</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">ca_ca01</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">ca_ca02</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">ca_ca03</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Loop through all years and get total jobs by age group</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span><span class="mi">2016</span><span class="p">):</span>
    <span class="n">tempdf</span> <span class="o">=</span> <span class="n">wac_all_years</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">ca_c000</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tempdf</span><span class="o">.</span><span class="n">C000</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
    <span class="n">ca_ca01</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tempdf</span><span class="o">.</span><span class="n">CA01</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
    <span class="n">ca_ca02</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tempdf</span><span class="o">.</span><span class="n">CA02</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
    <span class="n">ca_ca03</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tempdf</span><span class="o">.</span><span class="n">CA03</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>

<span class="c1"># Create the overall Data Frame</span>
<span class="n">plot_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;C000&quot;</span><span class="p">:</span> <span class="n">ca_c000</span><span class="p">,</span> <span class="s2">&quot;CA01&quot;</span><span class="p">:</span> <span class="n">ca_ca01</span><span class="p">,</span> 
                       <span class="s2">&quot;CA02&quot;</span><span class="p">:</span> <span class="n">ca_ca02</span><span class="p">,</span> <span class="s2">&quot;CA03&quot;</span><span class="p">:</span> <span class="n">ca_ca03</span><span class="p">},</span>
                       <span class="n">index</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span><span class="mi">2016</span><span class="p">))</span>

<span class="c1"># Now to plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="c1"># Add each plot</span>
<span class="n">plot_df</span><span class="o">.</span><span class="n">C000</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plot_df</span><span class="o">.</span><span class="n">CA01</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plot_df</span><span class="o">.</span><span class="n">CA02</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plot_df</span><span class="o">.</span><span class="n">CA03</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Just to make x-axis look nice</span>
<span class="n">ax</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">()</span><span class="o">.</span><span class="n">get_major_formatter</span><span class="p">()</span><span class="o">.</span><span class="n">set_useOffset</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span> 
</pre></div>
</div>
</div>
</div>
<p>We start by initializing four lists. These are the lists in which we’ll store the total number of jobs for each age group by year.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ca_c000 = []
ca_ca01 = []
ca_ca02 = []
ca_ca03 = []
</pre></div>
</div>
<p>The lists each correspond to an age group (or the total of all age groups), so we’ll plot lines for four different categories: Total, 29 or younger, 30 to 54, and 55 or older. Next, we go through the loop.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>for i in range(2009,2016):
    tempdf = wac_all_years[i]
    ca_c000.append(tempdf.C000.sum())
    ca_ca01.append(tempdf.CA01.sum())
    ca_ca02.append(tempdf.CA02.sum())
    ca_ca03.append(tempdf.CA03.sum())
</pre></div>
</div>
<p>We’re going to be looping through each year from 2009 to 2015. In each iteration, we start by storing the Data Frame for that year in <code class="docutils literal notranslate"><span class="pre">tempdf</span></code>. This step isn’t absolutely necessary, as we could have chosen to replace each instance of “<code class="docutils literal notranslate"><span class="pre">tempdf</span></code>” with “<code class="docutils literal notranslate"><span class="pre">wac_all_years[i]</span></code>” in the rest of the loop, but I’ve done it to make the code more readable. Next, for each of the four categories, we’ll take the appropriate column, calculate the <code class="docutils literal notranslate"><span class="pre">sum</span></code>, then <code class="docutils literal notranslate"><span class="pre">append</span></code> it to the appropriate list. This all takes place in one line for each category.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>plot_df = pd.DataFrame({&quot;C000&quot;: ca_c000, &quot;CA01&quot;: ca_ca01, 
                       &quot;CA02&quot;: ca_ca02, &quot;CA03&quot;: ca_ca03},
                       index=range(2009,2016))
</pre></div>
</div>
<p>We then create a new Data Frame called <code class="docutils literal notranslate"><span class="pre">plot_df</span></code> that has a column for each age group and a row for each year. Notice that we create a dictionary with column names as keys and the lists containing the elements as the values. In addition, we specify the index to be the years. You can check the contents of <code class="docutils literal notranslate"><span class="pre">plot_df</span></code> to get a better idea of what we’ve constructed.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_df</span>
</pre></div>
</div>
</div>
</div>
<p>Lastly, we plot the figure using similar methods as before, except with <code class="docutils literal notranslate"><span class="pre">kind='line'</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>fig, ax = plt.subplots(figsize=(8,6))

plot_df.C000.plot(kind=&#39;line&#39;, ax=ax, legend=True)
plot_df.CA01.plot(kind=&#39;line&#39;, ax=ax, legend=True)
plot_df.CA02.plot(kind=&#39;line&#39;, ax=ax, legend=True)
plot_df.CA03.plot(kind=&#39;line&#39;, ax=ax, legend=True)

ax.get_xaxis().get_major_formatter().set_useOffset(False) 
</pre></div>
</div>
<p>The last line is simply to make the years look nicer on the x-axis. You can try plotting without the last line (i.e. comment it out) to see what happens without it.</p>
</section>
<section id="using-seaborn">
<h1>Using Seaborn<a class="headerlink" href="#using-seaborn" title="Permalink to this headline">#</a></h1>
<p><strong>Seaborn</strong> is a popular Python visualization package, that allows you to create graphs that look nicer than just using <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>, and can many times be easier to use. For example, to obtain the above graph, you can actually use the <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> function <code class="docutils literal notranslate"><span class="pre">lineplot</span></code> with the <code class="docutils literal notranslate"><span class="pre">plot_df</span></code> DataFrame to get the same thing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">plot_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="saving-figures">
<h2>Saving Figures<a class="headerlink" href="#saving-figures" title="Permalink to this headline">#</a></h2>
<p>Of course, some of the figures we make might help us visualize when exploring the data, but we might also want to save them to include in presentations or to show others without needing to run code. We can save the figure by using the <code class="docutils literal notranslate"><span class="pre">savefig()</span></code> method. Notice that we include the “<code class="docutils literal notranslate"><span class="pre">.png</span></code>” file extension in the name of the file. Here, we also specify a dpi.</p>
<p><strong>Note:</strong>
<em>You can find the saved file by clicking the previous tab in your browser (labeled ‘<strong>Home</strong>’). Find the file listed there, click the checkbox next to the file, then click the ‘<strong>Download</strong>’ button that appears above to download the file.</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;jobsbyage.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>In order to save a <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> plot, you can use the same <code class="docutils literal notranslate"><span class="pre">savefig</span></code> method, but you need to first extract the <code class="docutils literal notranslate"><span class="pre">Figure</span></code> object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">plot_df</span><span class="p">)</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">get_figure</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;sns_jobsbyage.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="span-style-color-red-checkpoint-3-visualize-your-data-span">
<h1><span style="color:red">Checkpoint 3: Visualize Your Data</span><a class="headerlink" href="#span-style-color-red-checkpoint-3-visualize-your-data-span" title="Permalink to this headline">#</a></h1>
<p>Try using the methods we’ve described above, try visualizing your data set. What do the visualizations tell you? How are they different from the data from California? How are they the same? Does this make sense?</p>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./content/03-visualizations"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="basic-visualizations.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Visualizations</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../04-intro-sql/intro.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Introduction to SQL and Relational Databases</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Brian Kim<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>