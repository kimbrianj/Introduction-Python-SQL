
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Different Types of Joins &#8212; Introduction to Python and SQL for Data Analysis</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Using Joins With Aggregation Functions" href="joins-aggregation.html" />
    <link rel="prev" title="Joins" href="joins.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Introduction to Python and SQL for Data Analysis</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Welcome to your Jupyter Book
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../intro/intro.html">
   Introduction to SQL and Python for Data Analysis
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/data.html">
     Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/jupyter.html">
     Introduction to Jupyter Notebooks
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../01-intro-python/intro.html">
   Introduction to Python and Pandas
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-intro-python/data.html">
     Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-intro-python/data-exploration.html">
     Exploring the Data Frame
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-intro-python/subsetting.html">
     Creating Subsets of the Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-intro-python/missing.html">
     Checking for Missing Values
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-intro-python/documentation.html">
     <span style="color:green">
      Error Messages and Documentation (VIDEO)
     </span>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02-functions-loops/intro.html">
   Functions, Loops, and Visualizations
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-functions-loops/functions.html">
     <span style="color:green">
      Creating Functions (VIDEO)
     </span>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-functions-loops/loops.html">
     <span style="color:green">
      Using Loops (VIDEO)
     </span>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../03-visualizations/intro.html">
   Visualizations
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-visualizations/basic-visualizations.html">
     Visualizations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-visualizations/multiple-years.html">
     Using a Line Chart to Show Jobs by Year for Each Age Group
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../04-intro-sql/intro.html">
   Introduction to SQL and Relational Databases
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-intro-sql/queries.html">
     <span style="color:green">
      Writing a Basic Query (VIDEO)
     </span>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-intro-sql/counting.html">
     <span style="color:green">
      Checking Number of Rows and Duplicates (VIDEO)
     </span>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-intro-sql/conditionals.html">
     Using Conditional Statements
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-intro-sql/aggregating.html">
     Using Aggregation Functions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="intro.html">
   SQL Joins
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="joins.html">
     Joins
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Different Types of Joins
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="joins-aggregation.html">
     Using Joins With Aggregation Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="creating-tables.html">
     Creating New Tables for Future Use
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../06-python-sql/intro.html">
   Using SQL and Python Together
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-python-sql/connecting.html">
     Creating a Connection
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-python-sql/tables-df.html">
     Reading SQL tables using Pandas
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/content/05-joins/other-joins.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/content/05-joins/other-joins.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Different Types of Joins
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#left-and-right-joins-in-sql">
     Left and Right Joins in SQL
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#applying-left-joins">
     Applying Left Joins
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#full-outer-join">
     Full Outer Join
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#applying-outer-joins">
     Applying Outer Joins
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#span-style-color-red-checkpoint-types-of-joins-span">
   <span style="color:red">
    Checkpoint: Types of Joins
   </span>
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Different Types of Joins</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Different Types of Joins
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#left-and-right-joins-in-sql">
     Left and Right Joins in SQL
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#applying-left-joins">
     Applying Left Joins
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#full-outer-join">
     Full Outer Join
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#applying-outer-joins">
     Applying Outer Joins
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#span-style-color-red-checkpoint-types-of-joins-span">
   <span style="color:red">
    Checkpoint: Types of Joins
   </span>
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <div class="cell tag_hide_input docutils container">
<div class="cell_input docutils container">
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">defaultDatasource</span><span class="w"> </span><span class="n">jdbc</span><span class="p">:</span><span class="n">sqlite</span><span class="p">:</span><span class="n">lodes</span><span class="p">.</span><span class="n">db</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="ne">Error</span>: Load a database to run this command.
</pre></div>
</div>
</div>
</div>
<section id="different-types-of-joins">
<h1>Different Types of Joins<a class="headerlink" href="#different-types-of-joins" title="Permalink to this headline">#</a></h1>
<p>We’ve so far done only one type of join, an inner join. This is the default join (which is why we didn’t need to specify anything more in the code). However, there are different types of joins.</p>
<section id="left-and-right-joins-in-sql">
<h2>Left and Right Joins in SQL<a class="headerlink" href="#left-and-right-joins-in-sql" title="Permalink to this headline">#</a></h2>
<p>Suppose we want to look at every single census block in one table, only filling in information from the second table if it exists. We’ll illustrate this using Table A and Table B from before. Recall that our <code class="docutils literal notranslate"><span class="pre">JOIN</span></code> created Table C:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>blockid</p></th>
<th class="head"><p>C000</p></th>
<th class="head"><p>CA01</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2</p></td>
<td><p>10</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>22</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>9</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<p>Instead, we want to create the following table:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>blockid</p></th>
<th class="head"><p>C000</p></th>
<th class="head"><p>CA01</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>5</p></td>
<td><p><em>null</em></p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>10</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>2</p></td>
<td><p><em>null</em></p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>6</p></td>
<td><p><em>null</em></p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>22</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>9</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<p>Here, we’ve kept every single row in Table A, and simply filled in the information from Table B if it existed for that <code class="docutils literal notranslate"><span class="pre">blockid</span></code>. This is called a <strong>LEFT JOIN</strong>, since we’re taking the table on the left (that is, Table A) and adding the information from Table B onto that. We could have also done a <strong>RIGHT JOIN</strong>, which does the same thing, except flipping the tables, giving us something that looks like:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>blockid</p></th>
<th class="head"><p>C000</p></th>
<th class="head"><p>CA01</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2</p></td>
<td><p>10</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>22</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>9</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p><em>null</em></p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p><em>null</em></p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
</section>
<section id="applying-left-joins">
<h2>Applying Left Joins<a class="headerlink" href="#applying-left-joins" title="Permalink to this headline">#</a></h2>
<p>When might you use left or right joins? Suppose you want to know which census blocks don’t have any jobs. Then, we’d want to make sure that we keep all of the census blocks in the geography crosswalk, even if they aren’t present in the workplace area characteristics tables, and add in the workplace area characteristics. This would mean that any blocks with a <code class="docutils literal notranslate"><span class="pre">null</span></code> value in the <code class="docutils literal notranslate"><span class="pre">C000</span></code> column would be blocks without any jobs.</p>
<p>To do this <code class="docutils literal notranslate"><span class="pre">JOIN</span></code>, we can use the <code class="docutils literal notranslate"><span class="pre">LEFT</span> <span class="pre">JOIN</span></code> statement.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">w_geocode</span><span class="p">,</span><span class="w"> </span><span class="n">tabblk2010</span><span class="p">,</span><span class="w"> </span><span class="n">c000</span><span class="p">,</span><span class="w"> </span><span class="n">ca01</span><span class="p">,</span><span class="w"> </span><span class="n">ca02</span><span class="p">,</span><span class="w"> </span><span class="n">ca03</span><span class="p">,</span><span class="w"> </span><span class="n">ctyname</span><span class="p">,</span><span class="w"> </span><span class="n">cbsaname</span><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">ca_wac_2015</span>
<span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">ca_xwalk</span><span class="w"> </span>
<span class="k">ON</span><span class="w"> </span><span class="n">ca_wac_2015</span><span class="p">.</span><span class="n">w_geocode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ca_xwalk</span><span class="p">.</span><span class="n">tabblk2010</span>
<span class="k">LIMIT</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<p>This is very similar to what we’ve done already with <code class="docutils literal notranslate"><span class="pre">JOIN</span></code>, except we add the word <code class="docutils literal notranslate"><span class="pre">LEFT</span></code> to it. When doing <code class="docutils literal notranslate"><span class="pre">LEFT</span></code> and <code class="docutils literal notranslate"><span class="pre">RIGHT</span> <span class="pre">JOIN</span></code>s, make sure to keep track of which one is first. Here, <code class="docutils literal notranslate"><span class="pre">lodes.ca_wac</span></code> comes first, so that’s the table on the “left” side.</p>
<blockquote>
<div><p>Right JOINs are not supported in SQLite3, so you aren’t able to practice doing them here. However, it’s useful to keep in mind for more sophisticated databases.</p>
</div></blockquote>
</section>
<section id="full-outer-join">
<h2>Full Outer Join<a class="headerlink" href="#full-outer-join" title="Permalink to this headline">#</a></h2>
<p>An outer join keeps all unique ids, then puts <code class="docutils literal notranslate"><span class="pre">NULL</span></code> if it isn’t part of that table. This is similar to a <code class="docutils literal notranslate"><span class="pre">LEFT</span></code> or <code class="docutils literal notranslate"><span class="pre">RIGHT</span> <span class="pre">JOIN</span></code>, except instead of only keeping all IDs from one table, it keeps them from both tables. Consider our example with Table A and Table B. We want to join them such that we get a table that looks like:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>blockid</p></th>
<th class="head"><p>C000</p></th>
<th class="head"><p>CA01</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>5</p></td>
<td><p><em>null</em></p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>10</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>2</p></td>
<td><p><em>null</em></p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>6</p></td>
<td><p><em>null</em></p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>22</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>9</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p><em>null</em></p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p><em>null</em></p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
<p>In a way, it’s like combining the <code class="docutils literal notranslate"><span class="pre">LEFT</span></code> and <code class="docutils literal notranslate"><span class="pre">RIGHT</span> <span class="pre">JOIN</span></code>s so that we have all information from both tables.</p>
</section>
<section id="applying-outer-joins">
<h2>Applying Outer Joins<a class="headerlink" href="#applying-outer-joins" title="Permalink to this headline">#</a></h2>
<p>Suppose we want to know which census blocks that contain either the residences of people with jobs in the state or the census blocks of the location of the workplace, but not both. We use <code class="docutils literal notranslate"><span class="pre">FULL</span> <span class="pre">OUTER</span> <span class="pre">JOIN</span></code> for that. Unfortunately, we aren’t able to show the outer join here, as it isn’t supported by SQLite. We’ve provided the code here, but it won’t run, so just make sure to keep it in mind for the future.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">ca_wac_2015</span>
<span class="k">FULL</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">ca_rac_2015</span><span class="w"> </span>
<span class="k">ON</span><span class="w"> </span><span class="n">ca_wac_2015</span><span class="p">.</span><span class="n">w_geocode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ca_rac_2015</span><span class="p">.</span><span class="n">h_geocode</span><span class="w"> </span>
<span class="k">LIMIT</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<p>This will let us see which census blocks contain values for both workplace characteristics and residence characteristics.</p>
</section>
</section>
<section id="span-style-color-red-checkpoint-types-of-joins-span">
<h1><span style="color:red">Checkpoint: Types of Joins</span><a class="headerlink" href="#span-style-color-red-checkpoint-types-of-joins-span" title="Permalink to this headline">#</a></h1>
<p>Consider the following situations. How would you answer the question posed? What type of join should you use for each one? Which tables do you need to join? Try doing the join.</p>
<ul class="simple">
<li><p>How many census blocks in the state contain a workplace and how many don’t? Recall that the geography crosswalk table contains information about the census blocks in the state.</p></li>
<li><p>Which county contains the most census blocks containing a workplace?</p></li>
<li><p>Which metropolitan/micropolitan area had the most census blocks containing a residence of a worker in the state?</p></li>
</ul>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "xsqlite"
        },
        kernelOptions: {
            name: "xsqlite",
            path: "./content/05-joins"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'xsqlite'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="joins.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Joins</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="joins-aggregation.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Using Joins With Aggregation Functions</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Brian Kim<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>